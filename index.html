<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§ó‡§ó‡§æ‡§£‡•Ä ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§µ‡§Ç‡§∂‡§æ‡§µ‡§≤‡•Ä</title>
<style>
  body {
    font-family: "Noto Sans Devanagari", "Mangal", sans-serif;
    background: linear-gradient(120deg, #f0f4ff, #fdfcff);
    margin: 0;
    padding: 0;
  }

  header {
    background: #4b6bff;
    color: white;
    text-align: center;
    padding: 25px 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  }

  header h1 {
    font-size: 30px;
    margin: 0;
    letter-spacing: 1px;
  }

  .search-section {
    max-width: 600px;
    margin: 20px auto;
    padding: 0 15px;
  }

  .search-bar {
    display: flex;
    gap: 10px;
  }

  .search-bar input {
    width: 100%;
    padding: 10px 14px;
    font-size: 16px;
    border: 1px solid #cbd5ff;
    border-radius: 8px;
    outline: none;
    transition: all 0.3s ease;
  }

  .search-bar input:focus {
    border-color: #4b6bff;
    box-shadow: 0 0 4px rgba(75,107,255,0.3);
  }

  .search-results {
    background: white;
    border: 1px solid #dde3ff;
    border-radius: 10px;
    margin-top: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    display: none;
  }

  .search-results div {
    padding: 10px 14px;
    cursor: pointer;
    border-bottom: 1px solid #f0f3ff;
  }

  .search-results div:last-child {
    border-bottom: none;
  }

  .search-results div:hover {
    background: #eef2ff;
  }

  main {
    max-width: 900px;
    margin: 20px auto 40px;
    background: white;
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
  }

  .tree ul {
    list-style-type: none;
    position: relative;
    padding-left: 20px;
    margin: 0;
  }

  .tree li {
    position: relative;
    margin: 10px 0;
    padding: 12px 15px;
    background: #f9fbff;
    border: 1px solid #dde3ff;
    border-radius: 12px;
    transition: all 0.3s ease;
  }

  .tree li:hover {
    background: #eef2ff;
  }

  .person {
    display: flex;
    align-items: center;
    cursor: pointer;
  }

  .person svg {
    width: 40px;
    height: 40px;
    margin-right: 10px;
    flex-shrink: 0;
  }

  .info {
    display: flex;
    flex-direction: column;
  }

  .name {
    font-weight: bold;
    color: #2f45ff;
    font-size: 17px;
  }

  .spouse {
    color: #444;
    font-size: 15px;
  }

  .children {
    margin-top: 10px;
    margin-left: 25px;
    border-left: 2px dashed #cfd5ff;
    padding-left: 10px;
    display: none;
  }

  .expanded > .children {
    display: block;
    animation: fadeIn 0.4s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .highlight {
    background: #fff3b0 !important;
    border-color: #ffd95e;
  }

  footer {
    text-align: center;
    color: #666;
    margin: 30px 0;
    font-size: 14px;
  }

  /* Responsive */
  @media (max-width: 600px) {
    header h1 { font-size: 24px; }
    .person svg { width: 30px; height: 30px; }
    .name { font-size: 15px; }
  }
</style>
</head>
<body>
  <header>
    <h1>‡§ó‡§ó‡§æ‡§£‡•Ä ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞</h1>
  </header>

  <section class="search-section">
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="‡§®‡§æ‡§Æ ‡§ñ‡•ã‡§ú‡•á‡§Ç... (‡§â‡§¶‡§æ: ‡§≠‡§§‡•Å‡§æ‡§ú‡•Ä)">
    </div>
    <div class="search-results" id="searchResults"></div>
  </section>

  <main>
    <div class="tree" id="treeContainer"></div>
  </main>

  <footer>¬© ‡§ó‡§ó‡§æ‡§£‡•Ä ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§µ‡§Ç‡§∂‡§æ‡§µ‡§≤‡•Ä | Designed with ‚ù§Ô∏è by Anil</footer>

<script>
// üß¨ Family Data
const familyData = [
  {
    name: "‡§ó‡§æ‡§ó‡§æ‡§ú‡•Ä",
    gender: "male",
    spouse: "",
    children: [
      {
        name: "‡§≠‡§§‡•Å‡§æ‡§ú‡•Ä",
        gender: "male",
        spouse: "‡§Æ‡§ß‡§Æ‡•Å‡§æ (‡§µ‡•ç‡§Ø‡§æ‡§≤‡§æ)",
        children: [
          { name: "‡§∞‡•Ä‡§§‡§æ", gender: "female", spouse: "", children: [] },
          { name: "‡§™‡•Å‡§§‡•ç‡§∞ 1", gender: "male", spouse: "‡§™‡§§‡•ç‡§®‡•Ä 1", children: [] }
        ]
      },
      {
        name: "‡§µ‡§≤‡•á‡§æ‡§ú‡•Ä",
        gender: "male",
        spouse: "‡§∞‡§ó‡§Ç‡§Æ‡•Å‡§æ (‡§∞‡§æ‡§®‡•Ä‡§µ‡§æ‡•ú‡§æ)",
        children: [
          { name: "‡§∞‡•Ä‡§Æ‡§æ", gender: "female", spouse: "", children: [] },
          { name: "‡§™‡•Å‡§§‡•ç‡§∞ 1", gender: "male", spouse: "‡§™‡§§‡•ç‡§®‡•Ä 1", children: [] }
        ]
      }
    ]
  }
];

// SVG icons
const maleSVG = `<svg viewBox="0 0 84 84"><circle cx="42" cy="42" r="42" fill="white"/><circle cx="42" cy="32" r="16" fill="#3854FF"/><path d="M42 51C55.62 51 67.31 59.25 72.35 71.03C64.7 79.02 53.93 84 42 84C30.06 84 19.29 79.02 11.65 71.03C16.69 59.25 28.38 51 42 51Z" fill="#3854FF"/></svg>`;
const femaleSVG = `<svg viewBox="0 0 84 84"><circle cx="42" cy="42" r="42" fill="white"/><circle cx="42" cy="32" r="16" fill="#FF006A"/><path d="M42 51C55.62 51 67.31 59.25 72.35 71.03C64.7 79.02 53.93 84 42 84C30.06 84 19.29 79.02 11.65 71.03C16.69 59.25 28.38 51 42 51Z" fill="#FF006A"/></svg>`;

// üîÅ Build Family Tree recursively
function buildTree(data, parentName = null) {
  const ul = document.createElement("ul");
  data.forEach(person => {
    const li = document.createElement("li");
    const personDiv = document.createElement("div");
    personDiv.className = "person";

    const svg = document.createElement("div");
    svg.innerHTML = person.gender === "female" ? femaleSVG : maleSVG;

    const info = document.createElement("div");
    info.className = "info";

    const name = document.createElement("span");
    name.className = "name";
    name.textContent = person.name;
    name.dataset.parent = parentName || "";

    const spouse = document.createElement("span");
    spouse.className = "spouse";
    if (person.spouse) spouse.textContent = "‡§ú‡•Ä‡§µ‡§®‡§∏‡§æ‡§•‡•Ä: " + person.spouse;

    info.appendChild(name);
    info.appendChild(spouse);
    personDiv.appendChild(svg);
    personDiv.appendChild(info);
    li.appendChild(personDiv);

    if (person.children && person.children.length > 0) {
      const childContainer = document.createElement("div");
      childContainer.className = "children";
      childContainer.appendChild(buildTree(person.children, person.name));
      li.appendChild(childContainer);

      personDiv.addEventListener("click", () => {
        li.classList.toggle("expanded");
      });
    }

    ul.appendChild(li);
  });
  return ul;
}

document.getElementById("treeContainer").appendChild(buildTree(familyData));

// üß† Flatten tree for search
function flattenTree(data, parentName = null, arr = []) {
  data.forEach(person => {
    arr.push({ name: person.name, parent: parentName });
    if (person.children && person.children.length > 0) {
      flattenTree(person.children, person.name, arr);
    }
  });
  return arr;
}

const flatList = flattenTree(familyData);

// üîç Search Functionality
const searchInput = document.getElementById("searchInput");
const searchResults = document.getElementById("searchResults");

searchInput.addEventListener("input", function () {
  const query = this.value.trim().toLowerCase();
  searchResults.innerHTML = "";

  if (query === "") {
    searchResults.style.display = "none";
    return;
  }

  const matches = flatList.filter(p => p.name.toLowerCase().includes(query));

  if (matches.length === 0) {
    searchResults.innerHTML = "<div>‡§ï‡•ã‡§à ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ</div>";
    searchResults.style.display = "block";
    return;
  }

  matches.forEach(match => {
    const div = document.createElement("div");
    div.textContent = `${match.name} ‚Äî ‡§™‡§ø‡§§‡§æ: ${match.parent || "N/A"}`;
    div.addEventListener("click", () => {
      searchResults.style.display = "none";
      searchInput.value = "";
      highlightAndScroll(match.name);
    });
    searchResults.appendChild(div);
  });

  searchResults.style.display = "block";
});

// ü™Ñ Highlight + Expand + Scroll to person
function highlightAndScroll(name) {
  const allNames = document.querySelectorAll(".name");
  allNames.forEach(n => n.closest("li").classList.remove("highlight"));

  allNames.forEach(n => {
    if (n.textContent === name) {
      const li = n.closest("li");
      li.classList.add("highlight");

      // Expand parents
      let parent = li.parentElement;
      while (parent && parent.classList.contains("children")) {
        parent.parentElement.classList.add("expanded");
        parent = parent.parentElement.parentElement;
      }

      // Scroll into view
      li.scrollIntoView({ behavior: "smooth", block: "center" });
    }
  });
}
</script>
</body>
</html>
